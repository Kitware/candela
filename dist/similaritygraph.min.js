!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("candela/VisComponent"),require("candela"),require("d3"),require("webcola")):"function"==typeof define&&define.amd?define(["candela/VisComponent","candela","d3","webcola"],t):"object"==typeof exports?exports.candela=t(require("candela/VisComponent"),require("candela"),require("d3"),require("webcola")):e.candela=t(e["candela/VisComponent"],e.candela,e.d3,e.webcola)}(this,function(e,t,n,r){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}({0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(2),i=r(o),a=n(29),l=r(a);i.default.register(l.default,"SimilarityGraph")},1:function(t,n){t.exports=e},2:function(e,n){e.exports=t},3:function(e,t){e.exports=n},29:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),s=r(c),u=n(3),d=r(u),f=n(90),p=r(f),h=function(e){function t(e,n){var r=n.data,a=n.threshold,l=void 0===a?0:a,c=n.linkDistance,s=void 0===c?100:c,u=n.id,f=void 0===u?"id":u,h=n.color,g=n.size,y=void 0===g?10:g,b=n.width,m=void 0===b?960:b,v=n.height,x=void 0===v?540:v;o(this,t);var w=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));w.data=r,w.empty(),d.default.select(w.el).selectAll("*").remove(),w.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),w.svg.setAttribute("width",m),w.svg.setAttribute("height",x),w.el.appendChild(w.svg);var k=d.default.scale.linear().domain(d.default.extent(r,function(e){return e[y]})).range([5,15]),S=function(e){return"string"==typeof y?k(e[y]):y},_=d.default.scale.linear().domain(d.default.extent(r,function(e){return e[h]})).range(["white","steelblue"]),j="string"==typeof r[0][h]?d.default.scale.category10():_,O=void 0!==h?function(e){return j(e[h])}:function(){return"rgb(31, 119, 180)"},T=w.svg.getBoundingClientRect(),q=T.width,z=T.height;w.cola=p.default.d3adaptor(d.default).linkDistance(s).size([q,z]);var B=w.nodes=w.data.map(function(e){return{id:e[f],color:O(e),width:2*S(e),height:2*S(e),size:S(e)}}),C={};B.forEach(function(e,t){return C[e.id]=t}),w.links=[],w.data.forEach(function(e){return w.data.forEach(function(t){e[f]!==t[f]&&e[t[f]]>=l&&w.links.push({source:C[e[f]],target:C[t[f]]})})}),w.linkSelection=d.default.select(w.svg).selectAll("line.link").data(w.links),w.linkSelection=w.linkSelection.enter().append("line").classed("link",!0).attr("stroke-width",1).attr("stroke","gray"),w.nodeSelection=d.default.select(w.svg).selectAll("circle.node").data(w.nodes),w.nodeSelection=w.nodeSelection.enter().append("circle").classed("node",!0).attr("r",function(e){return e.size}).style("stroke","black").style("fill",function(e){return e.color}).style("cursor","crosshair").call(w.cola.drag),w.labelSelection=d.default.select(w.svg).selectAll("text.label").data(w.nodes);var E=w;return w.labelSelection=w.labelSelection.enter().append("text").classed("label",!0).text(function(e){return e.id}).each(function(e,t){var n=this.getBBox();E.nodes[t].height+=n.height}).style("cursor","crosshair").call(w.cola.drag),w.cola.on("tick",function(){w.nodeSelection.attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}),w.labelSelection.attr("x",function(e){var t=this.getBBox();return e.x-.5*t.width}).attr("y",function(e){var t=this.getBBox();return e.y+t.height+.5*e.size}),w.linkSelection.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y})}),w.cola.avoidOverlaps(!0).nodes(w.nodes).links(w.links).start(10,15,20),w}return a(t,e),l(t,[{key:"render",value:function(){}}],[{key:"options",get:function(){return[{name:"data",description:"The data table.",type:"table",format:"objectlist"},{name:"id",description:"The field containing the identifier of each row.",type:"string",domain:{mode:"field",from:"data",fieldTypes:["string","integer","number"]}},{name:"color",description:"The field used for coloring the nodes.",type:"string",domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{name:"size",description:"The field used for sizing the nodes.",type:"string",domain:{mode:"field",from:"data",fieldTypes:["number","integer"]}},{name:"linkDistance",description:"The desired length of links.",type:"number",format:"number",default:100},{name:"threshold",description:"Only display links where the similarity is above this threshold.",type:"number",format:"number",default:0}]}}]),t}(s.default);t.default=h},90:function(e,t){e.exports=r}})});