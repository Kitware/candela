!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("candela/VisComponent"),require("candela"),require("candela/plugins/mixin/VegaChart"),require("candela/plugins/mixin/Events")):"function"==typeof define&&define.amd?define(["candela/VisComponent","candela","candela/plugins/mixin/VegaChart","candela/plugins/mixin/Events"],t):"object"==typeof exports?exports.candela=t(require("candela/VisComponent"),require("candela"),require("candela/plugins/mixin/VegaChart"),require("candela/plugins/mixin/Events")):e.candela=t(e["candela/VisComponent"],e.candela,e["candela/plugins/mixin/VegaChart"],e["candela/plugins/mixin/Events"])}(this,function(e,t,a,i){return function(e){function t(i){if(a[i])return a[i].exports;var r=a[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=a(2),l=i(r),n=a(40),o=i(n),d=a(41),s=i(d),u=a(42),f=i(u),p=a(43),g=i(p),c=a(44),m=i(c),y=a(45),h=i(y),x=a(46),b=i(x),v=a(47),_=i(v),w=a(48),j=i(w),k=a(49),O=i(k),z={BarChart:o.default,BoxPlot:s.default,BulletChart:f.default,GanttChart:g.default,Heatmap:m.default,Histogram:h.default,LineChart:b.default,ScatterPlot:_.default,ScatterPlotMatrix:j.default,SurvivalPlot:O.default};Object.entries(z).forEach(function(e){return l.default.register(e[1],e[0])})},function(t,a){t.exports=e},function(e,a){e.exports=t},,function(e,t){e.exports=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),d=a(1),s=i(d),u=a(4),f=i(u),p=a(60),g=i(p),c=function(e){function t(){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),o(t,null,[{key:"options",get:function(){return[{name:"data",type:"table",format:"objectlist"},{name:"x",type:"string",format:"text",domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{name:"y",type:"string",format:"text",domain:{mode:"field",from:"data",fieldTypes:["number","integer","boolean"]}},{name:"color",type:"string",format:"text",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{name:"hover",type:"string_list",format:"string_list",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}}]}}]),t}((0,f.default)(s.default,g.default));t.default=c},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),d=a(1),s=i(d),u=a(4),f=i(u),p=a(61),g=i(p),c=function(e){function t(){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),o(t,null,[{key:"options",get:function(){return[{name:"data",type:"table",format:"objectlist"},{name:"fields",type:"string_list",format:"string_list",domain:{mode:"field",from:"data",fieldTypes:["date","number","integer","boolean"]}},{name:"group",type:"string",format:"text",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}}]}}]),t}((0,f.default)(s.default,g.default));t.default=c},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),d=a(1),s=i(d),u=a(4),f=i(u),p=a(62),g=i(p),c=function(e){function t(){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),o(t,null,[{key:"options",get:function(){return[{name:"value",type:"number",format:"number"},{name:"title",type:"string",format:"text",optional:!0},{name:"subtitle",type:"string",format:"text",optional:!0},{name:"markers",type:"number_list",format:"number_list",optional:!0},{name:"ranges",type:"table",format:"objectlist",optional:!0}]}}]),t}((0,f.default)(s.default,g.default));t.default=c},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),d=a(1),s=i(d),u=a(4),f=i(u),p=a(63),g=i(p),c=function(e){function t(){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),o(t,null,[{key:"options",get:function(){return[{name:"data",type:"table",format:"objectlist"},{name:"label",type:"string",format:"text",domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{name:"level",type:"string",format:"text",domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{name:"start",type:"string",format:"text",domain:{mode:"field",from:"data",fieldTypes:["number","integer","boolean"]}},{name:"end",type:"string",format:"text",domain:{mode:"field",from:"data",fieldTypes:["number","integer","boolean"]}}]}}]),t}((0,f.default)(s.default,g.default));t.default=c},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),d=a(1),s=i(d),u=a(4),f=i(u),p=a(64),g=i(p),c=function(e){function t(){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),o(t,null,[{key:"options",get:function(){return[{name:"data",type:"table",format:"objectlist"},{name:"id",type:"string",format:"text",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{name:"fields",type:"string_list",format:"text",domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{name:"sort",type:"string",format:"text",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}}]}}]),t}((0,f.default)(s.default,g.default));t.default=c},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),d=a(1),s=i(d),u=a(4),f=i(u),p=a(65),g=i(p),c=function(e){function t(){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),o(t,null,[{key:"options",get:function(){return[{name:"data",type:"table",format:"objectlist"},{name:"bin",type:"string",format:"text",domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{name:"aggregate",type:"string",format:"text",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["number","integer","boolean"]}}]}}]),t}((0,f.default)(s.default,g.default));t.default=c},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),d=a(1),s=i(d),u=a(75),f=i(u),p=a(4),g=i(p),c=a(66),m=i(c),y=function(e){function t(){var e;r(this,t);for(var a=arguments.length,i=Array(a),n=0;n<a;n++)i[n]=arguments[n];var o=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.chart.then(function(e){e.on("click",function(e,t){if(t&&"symbol"===t.mark.marktype){var a=Object.assign({},t.datum);delete a._id,delete a._prev,o.emit("click",a,t)}})}),o}return n(t,e),o(t,null,[{key:"options",get:function(){return[{name:"data",type:"table",format:"objectlist"},{name:"x",type:"string",format:"text",domain:{mode:"field",from:"data",fieldTypes:["date","number","integer","boolean"]}},{name:"y",type:"string_list",format:"string_list",domain:{mode:"field",from:"data",fieldTypes:["date","number","integer","boolean"]}},{name:"hover",type:"string_list",format:"string_list",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}}]}}]),t}((0,f.default)((0,g.default)(s.default,m.default)));t.default=y},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),d=a(1),s=i(d),u=a(4),f=i(u),p=a(67),g=i(p),c=function(e){function t(){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),o(t,null,[{key:"options",get:function(){return[{name:"data",type:"table",format:"objectlist"},{name:"x",type:"string",format:"text",domain:{mode:"field",from:"data",fieldTypes:["date","number","integer","boolean"]}},{name:"y",type:"string",format:"text",domain:{mode:"field",from:"data",fieldTypes:["date","number","integer","boolean"]}},{name:"size",type:"string",format:"text",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["number","integer","boolean"]}},{name:"shape",type:"string",format:"text",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{name:"color",type:"string",format:"text",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{name:"hover",type:"string_list",format:"string_list",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}}]}}]),t}((0,f.default)(s.default,g.default));t.default=c},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),d=a(1),s=i(d),u=a(4),f=i(u),p=a(68),g=i(p),c=function(e){function t(){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),o(t,null,[{key:"options",get:function(){return[{name:"data",type:"table",format:"objectlist"},{name:"fields",type:"string_list",format:"string_list",domain:{mode:"field",from:"data",fieldTypes:["number","integer","boolean"]}},{name:"color",type:"string",format:"text",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}}]}}]),t}((0,f.default)(s.default,g.default));t.default=c},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=a(1),u=i(s),f=a(4),p=i(f),g=a(69),c=i(g),m=function(e){function t(e,a){l(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));a.data.sort(function(e,t){return e[a.time]-t[a.time]}),a.group||(a.group="group",a.data.forEach(function(e){return e.group=0}));var o={};a.data.forEach(function(e){var t=e[a.group];o[t]||(o[t]={survivors:1}),o[t].survivors++});var d=Object.keys(o).map(function(e){var t={time:0};return t[a.group]=e,t});return a.data=[].concat(r(d),r(a.data)),a.data.forEach(function(e){0!==e[a.censor]&&o[e[a.group]].survivors--,e.survivors=o[e[a.group]].survivors}),i.chart.then(function(e){var t=e.data("table");t.remove(function(){return!0}),t.insert(a.data),e.update()}),i}return o(t,e),d(t,null,[{key:"options",get:function(){return[{name:"data",type:"table",format:"objectlist"},{name:"time",type:"string",format:"text",domain:{mode:"field",from:"data",fieldTypes:["number","integer"]}},{name:"censor",type:"string",format:"text",domain:{mode:"field",from:"data",fieldTypes:["integer","boolean"]}},{name:"group",type:"string",format:"text",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}}]}}]),t}((0,p.default)(u.default,c.default));t.default=m},,,,,,,,,,,function(e,t){e.exports=["@defaults",[["x","x"],["y","y"],["xAxis.title",["@get","x"]],["yAxis.title",["@get","y"]],["hover",[["@get","x"],["@get","y"]]],["padding","strict"]],{width:["@get","width",800],height:["@get","height",500],padding:["@get","padding"],predicates:[{name:"tooltip",type:"==",operands:[{signal:"d._id"},{arg:"id"}]}],data:[{name:"data",values:["@get","data"]}],signals:[{name:"d",init:{},streams:[{type:"rect:mouseover",expr:"datum"},{type:"rect:mouseout",expr:"{}"}]}],scales:[{name:"x",type:"ordinal",range:"width",nice:!1,round:!0,domain:{data:"data",field:["@get","x"]}},{name:"y",type:["@get","yAxis.type","linear"],range:"height",zero:!0,domain:{data:"data",field:["@get","y"]}},["@colorScale",{name:"color",data:"data",values:["@get","data"],field:["@get","color"]}]],legends:["@if",["@get","color"],[{fill:"color",title:["@get","color"],properties:{symbols:{strokeWidth:{value:0}}}}],[]],axes:[{type:"x",scale:"x",layer:"back",title:["@get","xAxis.title",""],properties:{labels:{text:{template:"{{datum.data | truncate:25}}"},angle:{value:270},align:{value:"right"},baseline:{value:"middle"}}}},{type:"y",scale:"y",layer:"back",title:["@get","yAxis.title",""]}],marks:[{type:"rect",from:{data:"data"},properties:{enter:{x:{scale:"x",field:["@get","x"],offset:1},width:{scale:"x",band:!0,offset:-1},y:{scale:"y",field:["@get","y"]},y2:{scale:"y",value:0}},update:["@if",["@get","color"],{fill:{scale:"color",field:["@get","color"]}},{fill:{scale:"color",value:0}}],hover:{fill:{value:"red"}}}},{type:"group",marks:["@map",["@get","hover"],"h",{type:"text",properties:{enter:{align:{value:"center"},fill:{value:"#333"}},update:{x:{scale:"x",signal:["@join","",["d[",["@get","x"],"]"]]},dx:{scale:"x",band:!0,mult:.5},y:{scale:"y",signal:["@join","",["d[",["@get","y"],"]"]],offset:["@add",-5,["@mult",-15,["@get","index"]]]},text:{template:["@join","",[["@get","h"],": ","{{d['",["@get","h"],"']}}"]]},fillOpacity:{rule:[{predicate:{name:"tooltip",id:{value:null}},value:0},{value:1}]}}}}]}]}]},function(e,t){e.exports=["@defaults",[["group","key"],["boxSize",.75],["capSize",.5],["orient","vertical"],["horiz",["@eq",["@get","orient"],"horizontal"]],["valueAxis",["@if",["@get","horiz"],"x","y"]],["categoryAxis",["@if",["@get","horiz"],"y","x"]],["padding","strict"]],["@merge",["@axis",["@merge",["@if",["@get","horiz"],["@get","xAxis"],["@get","yAxis"]],{axis:["@get","valueAxis"],data:["@get","data"],field:["@get","fields.0"],size:["@if",["@get","horiz"],["@get","width"],["@get","height"]],domain:{data:"table",field:"value"}}]],["@axis",["@merge",["@if",["@get","horiz"],["@get","yAxis"],["@get","xAxis"]],{axis:["@get","categoryAxis"],size:["@if",["@get","horiz"],["@get","height"],["@get","width"]],type:"ordinal",data:["@get","data"],field:["@get","group"],points:!0,padding:1,domain:{data:"table",field:"name",sort:!0},properties:{labels:{text:{template:"{{datum.data | truncate:25}}"},angle:{value:["@if",["@get","horiz"],0,270]},align:{value:["@if",["@get","horiz"],"left","right"]},baseline:{value:"middle"}}}}]],{name:"boxplot",height:["@get","height",400],padding:["@get","padding"],width:["@get","width",600],data:[{name:"table",values:["@get","data"],transform:[{type:"fold",fields:["@get","fields"]},{type:"formula",field:"name",expr:["@if",["@eq","key",["@get","group"]],"datum.key",["@join","",["datum.key + ' ' + datum.",["@get","group"]]]]}]},{name:"stats",source:"table",transform:[{type:"aggregate",groupby:["name"],summarize:[{field:"value",ops:["min","max","median","q1","q3","valid"]}]}]},{name:"calcs",source:"stats",transform:[{type:"formula",field:"lower",expr:"max(datum.min_value,datum.q1_value-1.5*(datum.q3_value-datum.q1_value))"},{type:"formula",field:"upper",expr:"min(datum.max_value,datum.q3_value+1.5*(datum.q3_value-datum.q1_value))"},{type:"formula",field:"min_value_opacity",expr:"if(datum.min_value==datum.lower,0,1)"},{type:"formula",field:"max_value_opacity",expr:"if(datum.max_value==datum.upper,0,1)"}]}],scales:[{name:"ybar",range:["@if",["@get","horiz"],"height","width"],domain:{data:"table",field:"name",sort:!0},type:"ordinal",round:!0}],marks:[{type:"group",properties:{enter:{x:{value:0},width:{field:{group:"width"}},y:{value:0},height:{field:{group:"height"}},clip:{value:!0}}},marks:[{type:"rect",from:{data:"calcs"},properties:{update:["@orient",["@get","orient"],{x:{field:"lower",scale:["@get","valueAxis"]},x2:{field:"upper",scale:["@get","valueAxis"]},yc:{field:"name",scale:["@get","categoryAxis"]},height:{value:1},fill:{value:"#888"}}]}},{type:"rect",from:{data:"calcs"},properties:{update:["@orient",["@get","orient"],{x:{scale:["@get","valueAxis"],field:"q1_value"},x2:{scale:["@get","valueAxis"],field:"q3_value"},yc:{scale:["@get","categoryAxis"],field:"name"},height:{scale:"ybar",band:!0,mult:["@get","boxSize"]},fill:{value:["@get","fill","white"]},stroke:{value:"#888"}}]}},{type:"rect",from:{data:"calcs"},properties:{update:["@orient",["@get","orient"],{x:{scale:["@get","valueAxis"],field:"median_value"},width:{value:2},yc:{scale:["@get","categoryAxis"],field:"name"},height:{scale:"ybar",band:!0,mult:["@get","boxSize"]},fill:{value:"#000"}}]}},{type:"rect",from:{data:"calcs"},properties:{update:["@orient",["@get","orient"],{x:{scale:["@get","valueAxis"],field:"lower"},width:{value:1},yc:{scale:["@get","categoryAxis"],field:"name"},height:{scale:"ybar",band:!0,mult:["@get","capSize"]},fill:{value:"#000"}}]}},{type:"rect",from:{data:"calcs"},properties:{update:["@orient",["@get","orient"],{x:{scale:["@get","valueAxis"],field:"upper"},width:{value:1},yc:{scale:["@get","categoryAxis"],field:"name"},height:{scale:"ybar",band:!0,mult:["@get","capSize"]},fill:{value:"#000"}}]}},{type:"symbol",from:{data:"calcs"},properties:{update:["@orient",["@get","orient"],{x:{scale:["@get","valueAxis"],field:"min_value"},yc:{scale:["@get","categoryAxis"],field:"name"},size:{value:20},stroke:{value:"#000"},fill:{value:"#fff"},opacity:{field:"min_value_opacity"}}]}},{type:"symbol",from:{data:"calcs"},properties:{update:["@orient",["@get","orient"],{x:{scale:["@get","valueAxis"],field:"max_value"},yc:{scale:["@get","categoryAxis"],field:"name"},size:{value:20},stroke:{value:"#000"},fill:{value:"#fff"},opacity:{field:"max_value_opacity"}}]}}]}]}]]},function(e,t){e.exports=["@defaults",[["width",300],["height",40],["title",""],["subtitle",""],["ranges",[{min:0,max:.1,background:"hsl(0,0%,90%)",foreground:"rgb(102,191,103)"},{min:.1,max:.5,background:"hsl(0,0%,75%)",foreground:"rgb(255,179,24)"},{min:.5,max:1,background:"hsl(0,0%,60%)",foreground:"rgb(228,0,0)"}]],["padding","strict"]],{width:["@get","width"],height:["@get","height"],padding:["@get","padding"],data:[{name:"ranges",values:["@get","ranges"]},{name:"values",values:[{value:["@get","value",0]}],transform:[{type:"formula",field:"align",expr:"if(datum.value < 0, 'left', 'right')"},{type:"formula",field:"dx",expr:"if(datum.value < 0, 5, -5)"}]},{name:"markers",values:["@get","markers",[]]}],scales:[{name:"x",type:"linear",range:"width",domain:{data:"ranges",field:["min","max"]}},{name:"y",type:"linear",range:"height",domain:[0,1]},{name:"color",type:"linear",range:["@map",["@get","ranges"],"range",["@get","range.foreground","black"],["@get","range.foreground","black"]],domain:["@map",["@get","ranges"],"range",["@get","range.min"],["@get","range.max"]]}],axes:[{type:"x",scale:"x",ticks:5,properties:{axis:{stroke:{value:"hsl(0,0%,75%)"},strokeWidth:{value:.5}},ticks:{stroke:{value:"hsl(0,0%,75%)"},strokeWidth:{value:.5}},labels:{fontSize:{value:["@get","axisFontSize",14]}}}}],marks:[{type:"rect",from:{data:"ranges"},properties:{enter:{x:{scale:"x",field:"min"},x2:{scale:"x",field:"max"},y:{scale:"y",value:0},y2:{scale:"y",value:1},fill:{field:"background"},opacity:{value:.5}}}},{type:"rect",from:{data:"markers"},properties:{enter:{xc:{scale:"x",field:"data"},width:{value:2},yc:{scale:"y",value:.5},height:{scale:"y",value:.75},fill:{scale:"color",field:"data"}}}},{type:"rect",from:{data:"values"},properties:{enter:{x:{scale:"x",value:0},x2:{scale:"x",field:"value"},yc:{scale:"y",value:.5},height:{scale:"y",value:.5},fill:{scale:"color",field:"value"}}}},{type:"text",properties:{enter:{x:{value:-10},y:{scale:"y",value:.5},fontSize:{value:["@get","titleFontSize",20]},text:{value:["@get","title",""]},align:{value:"right"},baseline:{value:"middle"},fill:{value:"black"}}}},{type:"text",properties:{enter:{x:{value:-10},y:{scale:"y",value:.5,offset:15},fontSize:{value:["@get","subtitleFontSize",12]},text:{value:["@get","subtitle",""]},align:{value:"right"},baseline:{value:"middle"},fill:{value:"black"}}}},{type:"text",from:{data:"values"},properties:{enter:{x:{scale:"x",field:"value"},dx:{field:"dx"},y:{scale:"y",value:.5},fontSize:{value:["@get","labelFontSize",16]},text:{template:["@get","display","{{datum.value|number:'.2g'}}"]},align:{field:"align"},baseline:{value:"middle"},fill:{value:"white"}}}}]}]},function(e,t){e.exports=["@defaults",[["width",700],["height",600],["padding","strict"]],["@merge",["@axis",["@merge",["@get","xAxis"],{axis:"x",size:["@get","width"],domain:["@get","xAxis.domain",{fields:[{data:"data",field:["start","end"]}]}]}]],{width:["@get","width"],height:["@get","height"],padding:["@get","padding"],data:[{name:"data",values:["@get","data"],transform:[{type:"formula",field:"label",expr:["@join","",["datum['",["@get","label"],"']"]]},{type:"formula",field:"level",expr:["@join","",["datum['",["@get","level"],"']"]]},{type:"formula",field:"start",expr:["@join","",["datum['",["@get","start"],"']"]]},{type:"formula",field:"end",expr:["@join","",["datum['",["@get","end"],"']"]]}]}],scales:[{name:"y",type:"ordinal",range:"height",domain:{data:"data",field:"label"}},{name:"x",type:"linear",range:"width",domain:{data:"data",field:["start","end"]}},{name:"weight",type:"ordinal",range:["bold","normal"],domain:{data:"data",field:"level"}},{name:"color",type:"ordinal",range:["steelblue","#bbb"],domain:{data:"data",field:"level"}}],marks:[{type:"text",from:{data:"data"},properties:{enter:{x:{scale:"x",value:0,offset:-5},y:{scale:"y",field:"label"},fill:{value:"#000"},text:{field:"label"},font:{value:"Helvetica Neue"},fontSize:{value:10},fontWeight:{scale:"weight",field:"level"},align:{value:"right"},baseline:{value:"middle"}}}},{type:"rect",from:{data:"data"},properties:{enter:{x:{value:0},y:{scale:"y",field:"label",offset:-1},width:{field:{group:"width"}},height:{value:1},fill:{value:"#ccc"}}}},{type:"rect",from:{data:"data"},properties:{enter:{x:{scale:"x",field:"start"},x2:{scale:"x",field:"end"},yc:{scale:"y",field:"label"},height:{value:7},fill:{scale:"color",field:"level"}}}}]}]]},function(e,t){e.exports=["@defaults",[["id","_id"],["fields",[]],["sort",["@get","id"]],["padding","strict"]],{width:["@get","width"],height:["@get","height"],padding:["@get","padding"],predicates:[{name:"tooltip",type:"==",operands:[{signal:"d._id"},{arg:"id"}]}],signals:[{name:"d",init:{},streams:[{type:"rect:mouseover",expr:"datum"},{type:"rect:mouseout",expr:"{}"}]}],data:[{name:"data",values:["@get","data"],transform:[{type:"formula",field:"index",expr:["@join","",["datum['",["@get","id"],"']"]]},{type:"rank",field:["@get","sort"]}]},{name:"fields",values:["@get","fields"]}],scales:["@merge",[{name:"x",type:"ordinal",domain:{data:"fields",field:"data"},range:"width",round:!1},{name:"y",type:"ordinal",domain:{data:"data",field:"index",sort:{field:["@if",["@isStringField",["@get","data"],["@get","sort"]],"rank",["@get","sort"]],op:"mean"}},range:"height",round:!1}],["@map",["@get","fields"],"field",["@colorScale",{name:["@get","field"],data:"data",values:["@get","data"],field:["@get","field"]}]]],axes:[{type:"x",scale:"x"},["@if",["@eq",["@get","id"],"_id"],{type:"y",scale:"y",properties:{labels:{text:{value:""}}}},{type:"y",scale:"y"}]],marks:["@merge",["@map",["@get","fields"],"field",{type:"rect",from:{data:"data"},properties:{enter:{x:{scale:"x",value:["@get","field"]},width:{scale:"x",band:!0,offset:1},y:{scale:"y",field:"index"},height:{scale:"y",band:!0,offset:1}},update:{fill:{scale:["@get","field"],field:["@get","field"]}},hover:{fill:{value:"yellow"}}}}],[{type:"group",marks:["@map",["@get","fields"],"h",{type:"text",properties:{enter:{align:{value:"center"},fill:{value:"#333"}},update:{x:{scale:"x",value:["@get","h"]},dy:{scale:"x",band:!0,mult:.5},y:{scale:"y",signal:"d.index",offset:-5},angle:{value:270},align:{value:"left"},baseline:{value:"middle"},text:{template:["@join","",[["@get","h"],": ","{{d['",["@get","h"],"']}}"]]},fillOpacity:{rule:[{predicate:{name:"tooltip",id:{value:null}},value:0
},{value:1}]}}}}]}]]}]},function(e,t){e.exports=["@defaults",[["bin","value"],["width",800],["height",500],["xAxis.title",["@get","bin"]],["yAxis.title",["@if",["@get","aggregate"],["@join","",["Sum of ",["@get","aggregate"]]],"Count"]],["padding","strict"]],["@let",[["discrete",["@or",["@get","discrete"],["@isStringField",["@get","data"],["@get","bin"]]]]],["@merge",["@axis",["@merge",["@get","xAxis"],["@if",["@get","discrete"],{axis:"x",size:["@get","width"],type:"ordinal",data:["@get","data"],field:["@get","bin"],pan:!1,zoom:!1,nice:!0,round:!0,domain:{data:"series",field:"bin",sort:!0},properties:{labels:{text:{template:"{{datum.data | truncate:25}}"},angle:{value:270},align:{value:"right"},baseline:{value:"middle"}}}},{axis:"x",size:["@get","width"],type:"linear",data:["@get","data"],field:["@get","bin"],pan:!0,zoom:!0,nice:!1,round:!1,domain:{data:"series",field:["bin_start","bin_end"]}}]]],["@axis",["@merge",["@get","yAxis"],{axis:"y",size:["@get","height"],type:"linear",data:["@get","data"],field:["@get","aggregate"],zero:!0,pan:!1,zoom:!1,domain:{data:"series",field:"count"}}]],{width:["@get","width"],height:["@get","height"],padding:["@get","padding"],predicates:[{name:"tooltip",type:"==",operands:[{signal:"d._id"},{arg:"id"}]}],data:[{name:"series",values:["@get","data"],transform:["@if",["@get","discrete"],[{type:"formula",expr:["@join","",["datum['",["@get","bin"],"']"]],field:"bin"},{type:"aggregate",groupby:["bin"],summarize:[["@if",["@get","aggregate"],{field:["@get","aggregate"],ops:["sum"],as:["count"]},{field:"*",ops:["count"]}]]}],[{type:"bin",field:["@get","bin"],output:{start:"bin_start",mid:"bin",end:"bin_end"},maxbins:["@get","maxBins",20]},{type:"aggregate",groupby:["bin_start","bin","bin_end"],summarize:[["@if",["@get","aggregate"],{field:["@get","aggregate"],ops:["sum"],as:["count"]},{field:"*",ops:["count"]}]]}]]}],signals:[{name:"d",init:{},streams:[{type:"rect:mouseover",expr:"datum"},{type:"rect:mouseout",expr:"{}"}]}],marks:[{type:"group",properties:{enter:{x:{value:0},width:{field:{group:"width"}},y:{value:0},height:{field:{group:"height"}},clip:{value:!0}}},marks:[{type:"rect",from:{data:"series"},properties:{update:["@merge",["@if",["@get","discrete"],{x:{scale:"x",field:"bin",offset:1},width:{scale:"x",band:!0,offset:-1}},{x:{scale:"x",field:"bin_start",offset:1},x2:{scale:"x",field:"bin_end"}}],{y:{scale:"y",field:"count"},y2:{scale:"y",value:0},fill:{value:["@get","fill","steelblue"]}}],hover:{fill:{value:["@get","hover","red"]}}}},{type:"text",properties:{enter:{align:{value:"center"},fill:{value:"#333"}},update:["@merge",["@if",["@get","discrete"],{dx:{scale:"x",band:!0,mult:.5},text:{template:["@get","tooltip","{{d.bin}}: {{d.count}}"]}},{text:{template:["@get","tooltip","{{d.count}}"]}}],{x:{scale:"x",signal:"d.bin"},y:{scale:"y",signal:"d.count",offset:-5},fillOpacity:{rule:[{predicate:{name:"tooltip",id:{value:null}},value:0},{value:1}]}}]}}]}]}]]]},function(e,t){e.exports=["@defaults",[["width",800],["height",500],["legend",!0],["hover",["@merge",[["@get","x"]],["@get","y"]]],["pointSize",25],["xAxis.title",["@get","x"]],["yAxis.title",["@join",", ",["@get","y"]]],["padding","strict"]],["@let",[["legend",["@gt",["@length",["@get","y"]],1]]],["@merge",["@axis",["@merge",["@get","xAxis"],{axis:"x",size:["@get","width"],data:["@get","data"],field:["@get","x"],domain:["@get","xAxis.domain",{fields:[{data:"data",field:"x"}]}]}]],["@axis",["@merge",["@get","yAxis"],{axis:"y",size:["@get","height"],data:["@get","data"],field:["@get","y.0"],domain:["@get","yAxis.domain",{fields:[{data:"data",field:["@get","y"]}]}]}]],{width:["@get","width"],height:["@get","height"],padding:["@get","padding"],predicates:[{name:"tooltip",type:"==",operands:[{signal:"d._id"},{arg:"id"}]}],data:[{name:"data",values:["@get","data"],transform:[{type:"sort",by:["@get","x"]},{type:"formula",field:"x",expr:["@join","",["datum['",["@get","x","x"],"']"]]},{type:"formula",field:"y",expr:["@join","",["datum['",["@get","y","y"],"']"]]}]}],signals:[{name:"d",init:{},streams:[{type:"symbol:mouseover",expr:"datum"},{type:"symbol:mouseout",expr:"{}"}]}],scales:[{name:"color",type:"ordinal",domain:["@get","y"],range:"category10"}],legends:["@if",["@get","legend"],[{stroke:"color",title:["@get","color"]}],[]],marks:[{type:"group",properties:{enter:{x:{value:0},width:{field:{group:"width"}},y:{value:0},height:{field:{group:"height"}},clip:{value:!0}}},marks:["@map",["@get","y"],"yfield",{type:"line",from:{data:"data"},properties:{update:{x:{scale:"x",field:"x"},y:{scale:"y",field:["@get","yfield"]},stroke:{scale:"color",value:["@get","yfield"]},strokeWidth:{value:2}}}},{type:"symbol",from:{data:"data"},properties:{update:{x:{scale:"x",field:"x"},y:{scale:"y",field:"y"},shape:{value:"circle"},fill:{scale:"color",value:["@get","yfield"]},opacity:{value:["@if",["@get","showPoints"],1,0]},size:{value:["@add",0,["@get","pointSize"]]}}}},{type:"group",marks:["@map",["@get","hover"],"h",{type:"text",properties:{enter:{align:{value:"center"},fill:{value:"#333"}},update:{x:{scale:"x",signal:"d.x"},y:{scale:"y",signal:"d.y",offset:["@add",-15,["@mult",-15,["@get","index"]]]},text:{template:["@join","",[["@get","h"],": ","{{d['",["@get","h"],"']}}"]]},fillOpacity:{rule:[{predicate:{name:"tooltip",id:{value:null}},value:0},{value:1}]}}}}]}]}]}]]]},function(e,t){e.exports=["@defaults",[["width",800],["height",500],["legend",!0],["hover",[["@get","x"],["@get","y"]]],["xAxis.title",["@get","x"]],["yAxis.title",["@get","y"]],["opacity",.01],["padding","strict"]],["@let",[["legend",["@and",["@get","legend"],["@or",["@get","color"],["@get","shape"],["@get","size"]]]]],["@merge",["@axis",["@merge",["@get","xAxis"],{axis:"x",size:["@get","width"],data:["@get","data"],field:["@get","x"],domain:["@get","xAxis.domain",{fields:[{data:"data",field:"x"}]}]}]],["@axis",["@merge",["@get","yAxis"],{axis:"y",size:["@get","height"],data:["@get","data"],field:["@get","y"],domain:["@get","yAxis.domain",{fields:[{data:"data",field:"y"}]}]}]],{width:["@get","width"],height:["@get","height"],padding:["@get","padding"],predicates:[{name:"tooltip",type:"==",operands:[{signal:"d._id"},{arg:"id"}]}],data:[{name:"data",values:["@get","data"],transform:[{type:"formula",field:"color",expr:[["@if",["@get","color"],["@join","",["datum['",["@get","color"],"']"]],"0"]]},{type:"formula",field:"shape",expr:[["@if",["@get","shape"],["@join","",["datum['",["@get","shape"],"']"]],"0"]]},{type:"formula",field:"size",expr:[["@if",["@get","size"],["@join","",["datum['",["@get","size"],"']"]],"0"]]},{type:"formula",field:"x",expr:["@join","",["datum['",["@get","x","x"],"']"]]},{type:"formula",field:"y",expr:["@join","",["datum['",["@get","y","y"],"']"]]}]}],signals:[{name:"d",init:{},streams:[{type:"symbol:mouseover",expr:"datum"},{type:"symbol:mouseout",expr:"{}"}]}],scales:[["@colorScale",{name:"color",data:"data",values:["@get","data"],field:["@get","color"]}],{name:"size",type:"linear",domain:{data:"data",field:"size"},range:[["@if",["@get","size"],9,100],361],round:!0,nice:!1,zero:!1},{name:"shape",type:"ordinal",domain:{data:"data",field:"shape",sort:!0},range:"shapes"}],legends:["@map",[["@if",["@get","color"],{stroke:"color",title:["@get","color"]},null],["@if",["@get","shape"],{shape:"shape",title:["@get","shape"]},null],["@if",["@get","size"],{size:"size",title:["@get","size"]},null]],"d",["@get","d"]],marks:[{type:"group",properties:{enter:{x:{value:0},width:{field:{group:"width"}},y:{value:0},height:{field:{group:"height"}},clip:{value:!0}}},marks:[{type:"symbol",from:{data:"data"},properties:{update:{x:{scale:"x",field:"x"},y:{scale:"y",field:"y"},stroke:{scale:"color",field:"color"},shape:{scale:"shape",field:"shape"},fill:{scale:"color",field:"color"},fillOpacity:{value:["@get","opacity"]},strokeWidth:{value:2},size:{scale:"size",field:"size"}}}},{type:"group",marks:["@map",["@get","hover"],"h",{type:"text",properties:{enter:{align:{value:"center"},fill:{value:"#333"}},update:{x:{scale:"x",signal:"d.x"},y:{scale:"y",signal:"d.y",offset:["@add",-15,["@mult",-15,["@get","index"]]]},text:{template:["@join","",[["@get","h"],": ","{{d['",["@get","h"],"']}}"]]},fillOpacity:{rule:[{predicate:{name:"tooltip",id:{value:null}},value:0},{value:1}]}}}}]}]}]}]]]},function(e,t){e.exports=["@defaults",[["padding","strict"]],{width:["@get","width",600],height:["@get","height",600],padding:["@get","padding"],data:[{name:"data",values:["@get","data"]},{name:"fields",values:["@get","fields"]}],scales:[{name:"gx",type:"ordinal",range:"width",round:!0,domain:{data:"fields",field:"data"}},{name:"gy",type:"ordinal",range:"height",round:!0,reverse:!0,domain:{data:"fields",field:"data"}},["@colorScale",{name:"color",data:"data",values:["@get","data"],field:["@get","color"]}]],legends:["@if",["@get","color"],[{fill:"color",title:["@get","color"]}],[]],marks:[{type:"group",from:{data:"fields",transform:[{type:"cross"}]},properties:{enter:{x:{scale:"gx",field:"a.data"},y:{scale:"gy",field:"b.data"},width:{scale:"gx",band:!0,offset:-35},height:{scale:"gy",band:!0,offset:-35},fill:{value:"#fff"},stroke:{value:"#ddd"}}},scales:[{name:"x",range:"width",zero:!1,round:!0,domain:{data:"data",field:{parent:"a.data"}}},{name:"y",range:"height",zero:!1,round:!0,domain:{data:"data",field:{parent:"b.data"}}}],axes:[{type:"x",scale:"x",ticks:5},{type:"y",scale:"y",ticks:5}],marks:[{type:"symbol",from:{data:"data"},properties:{enter:{x:{scale:"x",field:{datum:{parent:"a.data"}}},y:{scale:"y",field:{datum:{parent:"b.data"}}},fill:["@if",["@get","color"],{scale:"color",field:["@get","color"]},{scale:"color",value:0}],fillOpacity:{value:.5}},update:{size:{value:36},stroke:{value:"transparent"}},hover:{size:{value:100},stroke:{value:"white"}}}}]},{type:"text",from:{data:"fields"},properties:{enter:{x:{value:-30},y:{scale:"gy",field:"data"},dx:{scale:"gy",band:!0,mult:-.5},text:{field:"data"},fontSize:{value:12},fill:{value:"black"},align:{value:"center"},baseline:{value:"bottom"},angle:{value:270},fontWeight:{value:"bold"}}}},{type:"text",from:{data:"fields"},properties:{enter:{y:{value:-10},x:{scale:"gx",field:"data"},dx:{scale:"gx",band:!0,mult:.5},text:{field:"data"},fontSize:{value:12},fill:{value:"black"},align:{value:"center"},baseline:{value:"bottom"},fontWeight:{value:"bold"}}}}]}]},function(e,t){e.exports=["@defaults",[["width",800],["height",500],["padding",30],["tickSize",6],["strokeWidth",2],["legend",!0],["legendTitle","Legend"],["time","time"],["censor","censor"],["xAxis.title",["@get","time"]],["yAxis.title","survivors"]],["@merge",["@axis",["@merge",["@get","xAxis"],{axis:"x",size:["@get","width"],data:["@get","data"],field:["@get","time"],domain:{fields:[{data:"table",field:["@get","time"]}]},pan:!0,zoom:!0}]],["@axis",["@merge",["@get","yAxis"],{axis:"y",size:["@get","height"],data:["@get","data"],field:"survivors",domain:{fields:[{data:"table",field:"survivors"}]},pan:!0,zoom:!0}]],{width:["@get","width"],height:["@get","height"],padding:["@get","padding"],data:[{name:"table",values:["@get","data"]},{name:"censored",source:"table",transform:[{type:"sort",by:[["@get","time"]]},{type:"filter",test:["@join","",["datum['",["@get","censor"],"'] == 0"]]}]}],scales:[{name:"color",type:"ordinal",domain:{data:"table",field:["@get","group"]},range:"category10"}],legends:["@if",["@get","legend"],[{stroke:"color",title:["@get","legendTitle"]}],null],marks:[{type:"group",properties:{enter:{x:{value:0},width:{field:{group:"width"}},y:{value:0},height:{field:{group:"height"}},clip:{value:!0}}},marks:[{type:"rect",from:{data:"censored"},properties:{enter:{fill:{scale:"color",field:["@get","group"]}},update:{x:{scale:"x",field:["@get","time"],offset:["@mult",-.5,["@get","strokeWidth"]]},x2:{scale:"x",field:["@get","time"],offset:["@mult",.5,["@get","strokeWidth"]]},y:{scale:"y",field:"survivors",offset:["@mult",-.5,["@get","tickSize"]]},y2:{scale:"y",field:"survivors",offset:["@mult",.5,["@get","tickSize"]]}}}},{type:"rect",from:{data:"censored"},properties:{enter:{fill:{scale:"color",field:["@get","group"]}},update:{x:{scale:"x",field:["@get","time"],offset:["@mult",-.5,["@get","tickSize"]]},x2:{scale:"x",field:["@get","time"],offset:["@mult",.5,["@get","tickSize"]]},y:{scale:"y",field:"survivors",offset:["@mult",-.5,["@get","strokeWidth"]]},y2:{scale:"y",field:"survivors",offset:["@mult",.5,["@get","strokeWidth"]]}}}}]},{type:"group",from:{data:"table",transform:[{type:"facet",groupby:[["@get","group"]]}]},properties:{enter:{x:{value:0},width:{field:{group:"width"}},y:{value:0},height:{field:{group:"height"}},clip:{value:!0}}},marks:[{type:"line",properties:{enter:{stroke:{scale:"color",field:["@get","group"]},strokeWidth:{value:["@get","strokeWidth"]}},update:{interpolate:{value:"step-after"},x:{scale:"x",field:["@get","time"]},y:{scale:"y",field:"survivors"}}}}]}]}]]},,,,,,function(e,t){e.exports=i}])});